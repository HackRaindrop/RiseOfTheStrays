/* Drag and drop styles for bunker room placement - Fallout Shelter style */

/* Draggable room items */
.room-selection-item.draggable {
    cursor: grab;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    position: relative;
    overflow: hidden;
}

.room-selection-item.draggable:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.room-selection-item.draggable:active {
    cursor: grabbing;
}

.room-selection-item.draggable::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.3) 50%,
        rgba(255, 255, 255, 0) 100%
    );
    transform: skewX(-25deg);
    animation: shine 3s infinite;
}

@keyframes shine {
    0% { left: -100%; }
    20% { left: 100%; }
    100% { left: 100%; }
}

/* Room clone during drag */
.room-drag-clone {
    cursor: grabbing;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    transform: scale(0.9);
    transition: none;
    z-index: 1000;
    opacity: 0.9;
    border: 2px dashed rgba(255, 255, 255, 0.5);
}

/* Dropzone styles */
.bunker-grid.drop-active {
    outline: 2px dashed rgba(52, 152, 219, 0.7);
    background-color: rgba(26, 37, 48, 0.8);
}

/* Cell highlight styles */
.bunker-cell.valid-placement {
    background-color: rgba(46, 204, 113, 0.3);
    transition: background-color 0.2s ease;
    box-shadow: inset 0 0 10px rgba(46, 204, 113, 0.5);
}

.bunker-cell.invalid-placement {
    background-color: rgba(231, 76, 60, 0.3);
    transition: background-color 0.2s ease;
    box-shadow: inset 0 0 10px rgba(231, 76, 60, 0.5);
}

/* Room preview styles */
.bunker-room.room-preview {
    opacity: 0.7;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
    animation: pulse 1.5s infinite alternate;
    border: 2px dashed rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(2px);
}

@keyframes pulse {
    from {
        opacity: 0.5;
        box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
    }
    to {
        opacity: 0.8;
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
    }
}

/* Placement flash animation */
.placement-flash {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.8);
    border-radius: 3px;
    z-index: 5;
    pointer-events: none;
    animation: flash 0.3s ease-out;
}

@keyframes flash {
    0% { opacity: 0; }
    50% { opacity: 1; }
    100% { opacity: 0; }
}

/* Shake animation for invalid placement */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

/* Responsive styles */
@media (max-width: 767px) {
    /* Make cells larger on mobile for easier tapping */
    .bunker-cell {
        min-width: 40px;
        min-height: 40px;
    }

    /* Adjust room selection items for touch */
    .room-selection-item {
        padding: 12px;
        margin-bottom: 10px;
    }
}

/* Tablet styles */
@media (min-width: 768px) and (max-width: 1023px) {
    .bunker-cell {
        min-width: 35px;
        min-height: 35px;
    }

    .room-selection-item {
        transition: transform 0.2s ease;
    }

    .room-selection-item:hover {
        transform: translateY(-2px);
    }
}

/* Desktop styles */
@media (min-width: 1024px) {
    .bunker-cell {
        min-width: 40px;
        min-height: 40px;
        transition: background-color 0.2s ease;
    }

    .bunker-cell:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .room-selection-item {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .room-selection-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
}
